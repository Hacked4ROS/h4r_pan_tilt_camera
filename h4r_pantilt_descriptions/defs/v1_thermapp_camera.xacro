<robot xmlns:sensor="http://playerstage.sourceforge.net/gazebo/xmlschema/#sensor"
       xmlns:controller="http://playerstage.sourceforge.net/gazebo/xmlschema/#controller"
       xmlns:interface="http://playerstage.sourceforge.net/gazebo/xmlschema/#interface"
       xmlns:xacro="http://ros.org/wiki/xacro"
	   name="pan_tilt_thermapp_camera"
	>
	<xacro:include filename="$(find h4r_pantilt_descriptions)/defs/base/base_v1.xacro"/>

	<joint name="pantilt_pan_joint" type="revolute">
      <axis xyz="0 0 1"/>
      <limit lower="0" upper="3.14" effort="9" velocity="1" />      
      <origin xyz="0 0 0.0027" rpy="0 0 0" />
      <parent link="pantilt_base_link"/>
      <child link="pantilt_center_link"/>
    </joint>
		
		
	<link name="pantilt_center_link">
			<visual> 	  	
				<geometry>					
			  		<mesh filename="package://h4r_pantilt_descriptions/mesh/dae/center_v1.dae"  />
				</geometry>
			</visual>

			<collision name="pantilt_center_link_collision">
				<origin rpy="0 0 0" xyz="0 0 0.0026"/>
				<geometry>	
					<cylinder length="0.0018" radius="0.045"/>
				</geometry>	
			</collision>

			<inertial>
				<mass value="0.025" />
				<inertia ixx="9.325" 
						 iyy="11.911" 
						 izz="7.028" 
				         iyz="0.0" 
				         ixy="0.0" 
				         ixz="1.025" />
			</inertial>
		</link>	
		
		
	<joint name="pantilt_tilt_joint" type="revolute">
      <axis xyz="1 0 0"/>
      <limit lower="0" upper="3.14" effort="9" velocity="1" />
      <origin xyz="0.0223 0 0.0455" rpy="0 0 0" />
      <parent link="pantilt_center_link"/>
      <child link="pantilt_top_link"/>
    </joint>
		
		<link name="pantilt_top_link">	
			
			<visual> 	  	
				<geometry>					
			  		<mesh filename="package://h4r_pantilt_descriptions/mesh/dae/thermapp_camera_mount_v1.dae"  />
				</geometry>
			</visual>

<!--		
			<collision name="pantilt_top_link_collision">
				<geometry>	
					<mesh filename="package://h4r_pantilt_descriptions/mesh/dae/thermapp_camera_mount_v1.dae"  />
				</geometry>	
			</collision>
-->
			<inertial>
				<mass value="0.010" />
				<inertia ixx="4.481" 
						 iyy="2.930" 
						 izz="5.819" 
				         iyz="-0.083" 
				         ixy="0.049" 
				         ixz="0.317" />
			</inertial>
		</link>	
		
		
<gazebo>	
	<plugin name="H4RPanTiltGazebo"
		filename="libh4r_pantilt_gazebo.so">
		
		<commandTopic>cmd_dir</commandTopic>
		<servoTorque>1.0</servoTorque>	
		<servoRate>500.0</servoRate>
		<panStart>90</panStart>
		<tiltStart>90</tiltStart>

		<panJoint>pantilt_pan_joint</panJoint>
		<tiltJoint>pantilt_tilt_joint</tiltJoint>
							
		<alwaysOn>true</alwaysOn>	    
	</plugin>
</gazebo>
	
</robot>
