<robot xmlns:sensor="http://playerstage.sourceforge.net/gazebo/xmlschema/#sensor"
       xmlns:controller="http://playerstage.sourceforge.net/gazebo/xmlschema/#controller"
       xmlns:interface="http://playerstage.sourceforge.net/gazebo/xmlschema/#interface"
       xmlns:xacro="http://ros.org/wiki/xacro"
	   name="pan_tilt_thermapp_camera"
	>
	<xacro:include filename="$(find h4r_pantilt_descriptions)/defs/base/base_v1.xacro"/>

	<joint name="pantilt_pan_joint" type="revolute">
      <axis xyz="0 0 1"/>
      <limit lower="0" upper="3.14" effort="9" velocity="1" />      
      <origin xyz="0 0 0.0027" rpy="0 0 0" />
      <parent link="pantilt_base_link"/>
      <child link="pantilt_center_link"/>
    </joint>

    <xacro:include filename="$(find h4r_pantilt_descriptions)/defs/center/center_v1.xacro"/>
		
	<joint name="pantilt_tilt_joint" type="revolute">
      <axis xyz="1 0 0"/>
      <limit lower="0" upper="3.14" effort="9" velocity="1" />
      <origin xyz="0.0223 0 0.0455" rpy="0 0 0" />
      <parent link="pantilt_center_link"/>
      <child link="pantilt_head_link"/>
    </joint>
		
    <xacro:include filename="$(find h4r_pantilt_descriptions)/defs/head/head_thermapp_v1.xacro"/>
    

		
<gazebo>	
	<plugin name="H4RPanTiltGazebo"
		filename="libh4r_pantilt_gazebo.so">
		
		<commandTopic>cmd_dir</commandTopic>
		<servoTorque>1.0</servoTorque>	
		<servoRate>500.0</servoRate>
		<panStart>90</panStart>
		<tiltStart>90</tiltStart>

		<panJoint>pantilt_pan_joint</panJoint>
		<tiltJoint>pantilt_tilt_joint</tiltJoint>
							
		<alwaysOn>true</alwaysOn>	    
	</plugin>
</gazebo>
	
</robot>
